Open PicoBlaze Assembler log for program "program.asm"
Generated by opbasm v1.3.10
  Assembled on 2024-03-20T17:13:50
  Target architecture: PicoBlaze-3

  Last occupied address: 223 hex
  Nominal program memory size: 1K (1024)  address(9:0)
  Actual memory size: 1024
  Occupied memory locations: 548
  Memory locations available: 476
  Scratchpad size: 64


Assembly listing
----------------
000                                     constant spi_port, 00

000                                     constant spi_eport, 04

000                                     constant spi_rport, 03



000  34087 ╭──────⤙                     jump MAIN
001        │                            ;DELAYS
           │
001        │                            constant c_delay_1us, 0B       ; at 50Mhz
           │
001        │                            ;TIMERS
001        │                            ;all this region uses registers s0 to s4
001  0000B ╭─┬┬┬┬─▶          delay_1us: load s0, c_delay_1us
002  1C001 │ ││││╭▶           wait_1us: sub s0, 01
003  35402 │ ││││╰⤙                     jump NZ, wait_1us
004  2A000 │ ││││                       return
           │ ││││
005  00107 │ ││││            delay_7us: load s1, 07                    ;7 x 1us = 7us
006  30001 │ │││╰┬⤙           wait_7us: call delay_1us
007  1C101 │ │││ │                      sub s1, 01
008  35406 │ │││ ╰⤙                     jump NZ, wait_7us
009  2A000 │ │││                        return
           │ │││
00A  00108 │ │││             delay_8us: load s1, 08                    ;8 x 1us = 8us
00B  30001 │ ││╰─┬⤙           wait_8us: call delay_1us
00C  1C101 │ ││  │                      sub s1, 01
00D  3540B │ ││  ╰⤙                     jump NZ, wait_8us
00E  2A000 │ ││                         return
           │ ││
00F  00119 ╭──────▶         delay_25us: load s1, 19                    ;25 x 1us = 25us
010  30001 │ │╰───⤙          wait_25us: call delay_1us
011  1C101 │ │                          sub s1, 01
012  35415 │ │  ╭─⤙                     jump NZ, wait_40us
013  2A000 │ │  │                       return
           │ │  │
014  00128 ╭──┬┬──▶         delay_40us: load s1, 28                    ;40 x 1us = 40us
015  30001 │ ╰──┴┬⤙          wait_40us: call delay_1us
016  1C101 │  ││ │                      sub s1, 01
017  35415 │  ││ ╰⤙                     jump NZ, wait_40us
018  2A000 │  ││                        return
           │  ││
019  00219 ╭─┬────▶          delay_1ms: load s2, 19                    ;25 x 40us = 1ms
01A  30014 │ ││╰─┬⤙           wait_1ms: call delay_40us
01B  1C201 │ ││  │                      sub s2, 01
01C  3541A │ ││  ╰⤙                     jump NZ, wait_1ms
01D  2A000 │ ││                         return
           │ ││
01E  0027D ╭──────▶          delay_5ms: load s2, 7D                    ;125 x 40us = 1ms
01F  30014 │ │╰──┬⤙           wait_5ms: call delay_40us
020  1C201 │ │   │                      sub s2, 01
021  3541F │ │   ╰⤙                     jump NZ, wait_5ms
022  2A000 │ │                          return
           │ │
023  00314 ╭────┬─▶         delay_20ms: load s3, 14                    ;20 x 1ms = 20ms
024  30019 │ ╰───┬⤙          wait_20ms: call delay_1ms
025  1C301 │    ││                      sub s3, 01
026  35424 │    │╰⤙                     jump NZ, wait_20ms
027  2A000 │    │                       return
           │    │
028  00432 ╭──────▶           delay_1s: load s4, 32                    ;50 x 20ms = 1000ms
029  30023 │    ╰┬⤙            wait_1s: call delay_20ms
02A  1C401 │     │                      sub s4, 01
02B  35429 │     ╰⤙                     jump NZ, wait_1s
02C  2A000 │                            return
           │
02D        │                            ;Tarea 3 lcd
02D        │                            ;constants
           │
02D        │                            constant LCD_PORT, 01
           │
           │
           │
02D        │                            ; 7 6 5  4  3  2  1  0
02D        │                            ; X E RS RW D7 D6 D5 D4
           │
02D        │                            ;from here everything will use s5 register up to s7
02D        │                            ;s5 will hold the data to be sent
           │
02D  30001 ╭─────┬▶        LCD_E_PULSE: call delay_1us
02E  0E540 │     │                      xor s5, 40
02F  2C501 │     │                      output s5, LCD_PORT
030  30001 ╰──────⤙                     call delay_1us
031  0E540 │     │                      xor s5, 40
032  2C501 │     │                      output s5, LCD_PORT
033  2A000 │     │                      return
           │     │
034  0A5DF ╭┬┬┬┬┬─▶            LCD_CMD: and s5, DF
035  2C501 │││││││                      output s5, LCD_PORT
036  3002D ││││││╰⤙                     call LCD_E_PULSE
037  2A000 ││││││                       return
           ││││││
038  00500 ╭──────▶           LCD_INIT: load s5, 00
039  2C501 ││││││                       output s5, LCD_PORT
03A  30023 ╰──────⤙                     call delay_20ms
           ││││││
03B  00503 ││││││                       load s5, 03                    ;Send 3 and wait > 4.1ms
03C  30034 │││││╰─⤙                     call LCD_CMD
03D  3001E ╰──────⤙                     call delay_5ms
           │││││
03E  00503 │││││                        load s5, 03                    ;Send 3 and wait > 100us
03F  30034 ││││╰──⤙                     call LCD_CMD
040  30014 ╰──────⤙                     call delay_40us
041  30014 ╰──────⤙                     call delay_40us
042  30014 ╰──────⤙                     call delay_40us
           ││││
043  00503 ││││                         load s5, 03                    ;Send 3 and wait > 40us
044  30034 │││╰───⤙                     call LCD_CMD
045  30014 ╰──────⤙                     call delay_40us
           │││
046  00502 │││                          load s5, 02                    ;Send 2 and wait > 40us
047  30034 ││╰────⤙                     call LCD_CMD
048  30014 ╰──────⤙                     call delay_40us
           ││
049        ││                           ;FUNCTION SET
           ││
049  00502 ││                           load s5, 02                    ;high nibble 0x28
04A  30034 │╰─────⤙                     call LCD_CMD
04B  30001 ╰──────⤙                     call delay_1us
04C  00508 │                            load s5, 08                    ;lower nibble 0x28
04D  30034 ╰──────⤙                     call LCD_CMD
04E  30014 ╰──────⤙                     call delay_40us
           │
04F  00500 │                            load s5, 00                    ;high nibble 0x0C
050  30034 ╰──────⤙                     call LCD_CMD
051  30001 ╰──────⤙                     call delay_1us
052  0050C │                            load s5, 0C                    ;lower nibble 0x06
053  30034 ╰──────⤙                     call LCD_CMD
054  30014 ╰──────⤙                     call delay_40us
           │
055  00500 │                            load s5, 00                    ;high nibble 0x0C
056  30034 ╰──────⤙                     call LCD_CMD
057  30001 ╰──────⤙                     call delay_1us
058  00506 │                            load s5, 06                    ;lower nibble 0x0C
059  30034 ╰──────⤙                     call LCD_CMD
05A  30014 ╰──────⤙                     call delay_40us
           │
05B  00500 │                 LCD_CLEAR: load s5, 00                    ;high nibble 0x01
05C  30034 ╰──────⤙                     call LCD_CMD
05D  30001 ╰──────⤙                     call delay_1us
05E  00501 │                            load s5, 01                    ;lower nibble 0x01
05F  30034 ╰──────⤙                     call LCD_CMD
060  30019 ╰──────⤙                     call delay_1ms                 ;wait > 1.64ms
061  30019 ╰──────⤙                     call delay_1ms
062  2A000 │                            return
           │
063  01650 │            LCD_WRITE_CHAR: load s6, s5                    ; s6 is X, s7 is Y
064  01750 │                            load s7, s5
065  0A60F │                            and s6, 0x0F
066  0A7F0 │                            and s7, 0xF0
067  0E620 │                            xor s6, 20
068  0E720 │                            xor s7, 20
           │
069  2060E │                            sr0 s6                         ; s6>>4
06A  2060E │                            sr0 s6
06B  2060E │                            sr0 s6
06C  2060E │                            sr0 s6
           │
06D  01650 │                            load s6, s5
06E  30034 ╰──────⤙                     call LCD_CMD
06F  30001 ╰──────⤙                     call delay_1us
           │
070  01750 │                            load s7, s5
071  30034 ╰──────⤙                     call LCD_CMD
072  30014 ╰──────⤙                     call delay_40us
073  2A000 │                            return
           │
074  0C520 ╭─────┬▶          LCD_CHARA: or s5, 20
075  2C501 │     │                      output s5, LCD_PORT
076  3002D ╰──────⤙                     call LCD_E_PULSE
077  2A000 │     │                      return
           │     │
           │     │
078  01000 ╭──────▶           spi_wait: load s0, s0
079  01000 │     │                      load s0, s0
07A  01000 │     │                      load s0, s0
07B  01000 │     │                      load s0, s0
07C  01000 │     │                      load s0, s0
07D  01000 │     │                      load s0, s0
07E  01000 │     │                      load s0, s0
07F  01000 │     │                      load s0, s0
080  01000 │     │                      load s0, s0
081  01000 │     │                      load s0, s0
082  01000 │     │                      load s0, s0
083  01000 │     │                      load s0, s0
084  01000 │     │                      load s0, s0
085  01000 │     │                      load s0, s0
086        │     │                      ;load s0,s0
086        │     │                      ;load s0,00
086        │     │                      ;OUTPUT s0, 00
086        │     │                      ;OUTPUT s0, 00 ;disable SPI
086  2A000 │     │                      return
           │     │
           │     │
087  30001 ╰──────▶               MAIN: call delay_1us
           │     │
088  00580 │     │                      load s5, 80
089  2C501 │     │                      output s5, LCD_PORT
08A  30028 ╰──────⤙                     call delay_1s
08B  30038 ╰──────⤙                     call LCD_INIT
           │     │
08C  00505 │     │                      load s5, 05                    ;high nibble 0x28
08D  30074 │     ╰⤙                     call LCD_CHARA
08E  30001 ╰──────⤙                     call delay_1us
08F  00503 │                            load s5, 03                    ;lower nibble 0x28
090  30074 ╰──────⤙                     call LCD_CHARA
091  30014 ╰──────⤙                     call delay_40us
           │
092  00506 │                            load s5, 06                    ;high nibble 0x28
093  30074 ╰──────⤙                     call LCD_CHARA
094  30001 ╰──────⤙                     call delay_1us
095  00505 │                            load s5, 05                    ;lower nibble 0x28
096  30074 ╰──────⤙                     call LCD_CHARA
097  30014 ╰──────⤙                     call delay_40us
           │
098  00506 │                            load s5, 06                    ;high nibble 0x28
099  30074 ╰──────⤙                     call LCD_CHARA
09A  30001 ╰──────⤙                     call delay_1us
09B  0050E │                            load s5, 0E                    ;lower nibble 0x28
09C  30074 ╰──────⤙                     call LCD_CHARA
09D  30014 ╰──────⤙                     call delay_40us
           │
09E  00506 │                            load s5, 06                    ;high nibble 0x28
09F  30074 ╰──────⤙                     call LCD_CHARA
0A0  30001 ╰──────⤙                     call delay_1us
0A1  0050F │                            load s5, 0F                    ;lower nibble 0x28
0A2  30074 ╰──────⤙                     call LCD_CHARA
0A3  30014 ╰──────⤙                     call delay_40us
           │
0A4  00506 │                            load s5, 06                    ;high nibble 0x28
0A5  30074 ╰──────⤙                     call LCD_CHARA
0A6  30001 ╰──────⤙                     call delay_1us
0A7  00509 │                            load s5, 09                    ;lower nibble 0x28
0A8  30074 ╰──────⤙                     call LCD_CHARA
0A9  30014 ╰──────⤙                     call delay_40us
           │
0AA  00506 │                            load s5, 06                    ;high nibble 0x28
0AB  30074 ╰──────⤙                     call LCD_CHARA
0AC  30001 ╰──────⤙                     call delay_1us
0AD  00504 │                            load s5, 04                    ;lower nibble 0x28
0AE  30074 ╰──────⤙                     call LCD_CHARA
0AF  30014 ╰──────⤙                     call delay_40us
           │
0B0  00506 │                            load s5, 06                    ;high nibble 0x28
0B1  30074 ╰──────⤙                     call LCD_CHARA
0B2  30001 ╰──────⤙                     call delay_1us
0B3  00501 │                            load s5, 01                    ;lower nibble 0x28
0B4  30074 ╰──────⤙                     call LCD_CHARA
0B5  30014 ╰──────⤙                     call delay_40us
           │
0B6  00506 │                            load s5, 06                    ;high nibble 0x28
0B7  30074 ╰──────⤙                     call LCD_CHARA
0B8  30001 ╰──────⤙                     call delay_1us
0B9  0050C │                            load s5, 0C                    ;lower nibble 0x28
0BA  30074 ╰──────⤙                     call LCD_CHARA
0BB  30014 ╰──────⤙                     call delay_40us
           │
0BC  00503 │                            load s5, 03                    ;high nibble 0x28
0BD  30074 ╰──────⤙                     call LCD_CHARA
0BE  30001 ╰──────⤙                     call delay_1us
0BF  0050A │                            load s5, 0A                    ;lower nibble 0x28
0C0  30074 ╰──────⤙                     call LCD_CHARA
0C1  30014 ╰──────⤙                     call delay_40us
           │
0C2  00503 │                            load s5, 03                    ;high nibble 0x28
0C3  30074 ╰──────⤙                     call LCD_CHARA
0C4  30001 ╰──────⤙                     call delay_1us
0C5  00501 │                            load s5, 01                    ;lower nibble 0x28
0C6  30074 ╰──────⤙                     call LCD_CHARA
0C7  30014 ╰──────⤙                     call delay_40us
           │
0C8  00504 │                            load s5, 04                    ;high nibble 0x28
0C9  30074 ╰──────⤙                     call LCD_CHARA
0CA  30001 ╰──────⤙                     call delay_1us
0CB  0050B │                            load s5, 0B                    ;lower nibble 0x28
0CC  30074 ╰──────⤙                     call LCD_CHARA
0CD  30014 ╰──────⤙                     call delay_40us
           │
0CE  00504 │                            load s5, 04                    ;high nibble 0x28
0CF  30074 ╰──────⤙                     call LCD_CHARA
0D0  30001 ╰──────⤙                     call delay_1us
0D1  00508 │                            load s5, 08                    ;lower nibble 0x28
0D2  30074 ╰──────⤙                     call LCD_CHARA
0D3  30014 ╰──────⤙                     call delay_40us
           │
0D4  00507 │                            load s5, 07                    ;high nibble 0x28
0D5  30074 ╰──────⤙                     call LCD_CHARA
0D6  30001 ╰──────⤙                     call delay_1us
0D7  0050A │                            load s5, 0A                    ;lower nibble 0x28
0D8  30074 ╰──────⤙                     call LCD_CHARA
0D9  30014 ╰──────⤙                     call delay_40us
           │
0DA  00502 │                            load s5, 02                    ;high nibble 0x28
0DB  30074 ╰──────⤙                     call LCD_CHARA
0DC  30001 ╰──────⤙                     call delay_1us
0DD  00500 │                            load s5, 00                    ;lower nibble 0x28
0DE  30074 ╰──────⤙                     call LCD_CHARA
0DF  30014 ╰──────⤙                     call delay_40us
           │
0E0  00506 │                            load s5, 06                    ;high nibble 0x28
0E1  30074 ╰──────⤙                     call LCD_CHARA
0E2  30001 ╰──────⤙                     call delay_1us
0E3  00503 │                            load s5, 03                    ;lower nibble 0x28
0E4  30074 ╰──────⤙                     call LCD_CHARA
0E5  30014 ╰──────⤙                     call delay_40us
           │
0E6  00506 │                            load s5, 06                    ;high nibble 0x28
0E7  30074 ╰──────⤙                     call LCD_CHARA
0E8  30001 ╰──────⤙                     call delay_1us
0E9  0050F │                            load s5, 0F                    ;lower nibble 0x28
0EA  30074 ╰──────⤙                     call LCD_CHARA
0EB  30014 ╰──────⤙                     call delay_40us
           │
0EC  00506 │                            load s5, 06                    ;high nibble 0x28
0ED  30074 ╰──────⤙                     call LCD_CHARA
0EE  30001 ╰──────⤙                     call delay_1us
0EF  0050E │                            load s5, 0E                    ;lower nibble 0x28
0F0  30074 ╰──────⤙                     call LCD_CHARA
0F1  30014 ╰──────⤙                     call delay_40us
           │
0F2  00502 │                            load s5, 02                    ;high nibble 0x28
0F3  30074 ╰──────⤙                     call LCD_CHARA
0F4  30001 ╰──────⤙                     call delay_1us
0F5  00500 │                            load s5, 00                    ;lower nibble 0x28
0F6  30074 ╰──────⤙                     call LCD_CHARA
0F7  30014 ╰──────⤙                     call delay_40us
           │
0F8  00503 │                            load s5, 03                    ;high nibble 0x28
0F9  30074 ╰──────⤙                     call LCD_CHARA
0FA  30001 ╰──────⤙                     call delay_1us
0FB  00501 │                            load s5, 01                    ;lower nibble 0x28
0FC  30074 ╰──────⤙                     call LCD_CHARA
0FD  30014 ╰──────⤙                     call delay_40us
           │
0FE  00502 │                            load s5, 02                    ;high nibble 0x28
0FF  30074 ╰──────⤙                     call LCD_CHARA
100  30001 ╰──────⤙                     call delay_1us
101  00508 │                            load s5, 08                    ;lower nibble 0x28
102  30074 ╰──────⤙                     call LCD_CHARA
103  30014 ╰──────⤙                     call delay_40us
           │
104  00505 │                            load s5, 05                    ;high nibble 0x28
105  30074 ╰──────⤙                     call LCD_CHARA
106  30001 ╰──────⤙                     call delay_1us
107  00506 │                            load s5, 06                    ;lower nibble 0x28
108  30074 ╰──────⤙                     call LCD_CHARA
109  30014 ╰──────⤙                     call delay_40us
           │
10A  2C503 ╭──────▶               wave: output s5, 03
10B  00820 │                            load s8, 20
10C  2C800 │                            output s8, spi_port
           │
10D  0085C │                            load s8, 5C
10E  2C800 │                            output s8, spi_port
           │
10F  00832 │                            load s8, 32
110  2C800 │                            output s8, spi_port
           │
111  00800 │                            load s8, 00
112  2C800 │                            output s8, spi_port
           │
113  2C504 │                            output s5, 04
114  30078 ╰──────⤙                     call spi_wait
115  2C504 │                            output s5, 04
116  2C503 │                            output s5, 03
           │
117  3000F ╰──────⤙                     call delay_25us
118  3000F ╰──────⤙                     call delay_25us
           │
119  008A0 │                            load s8, A0
11A  2C800 │                            output s8, spi_port
           │
11B  00878 │                            load s8, 78
11C  2C800 │                            output s8, spi_port
           │
11D  00832 │                            load s8, 32
11E  2C800 │                            output s8, spi_port
           │
11F  00800 │                            load s8, 00
120  2C800 │                            output s8, spi_port
           │
121  2C504 │                            output s5, 04
122  30078 ╰──────⤙                     call spi_wait
123  2C504 │                            output s5, 04
124  2C503 │                            output s5, 03
           │
125  3000F ╰──────⤙                     call delay_25us
126  3000F ╰──────⤙                     call delay_25us
           │
127  00850 │                            load s8, 50
128  2C800 │                            output s8, spi_port
           │
129  00892 │                            load s8, 92
12A  2C800 │                            output s8, spi_port
           │
12B  00832 │                            load s8, 32
12C  2C800 │                            output s8, spi_port
           │
12D  00800 │                            load s8, 00
12E  2C800 │                            output s8, spi_port
           │
12F  2C504 │                            output s5, 04
130  30078 ╰──────⤙                     call spi_wait
131  2C504 │                            output s5, 04
132  2C503 │                            output s5, 03
           │
133  3000F ╰──────⤙                     call delay_25us
134  3000F ╰──────⤙                     call delay_25us
           │
135  008B0 │                            load s8, B0
136  2C800 │                            output s8, spi_port
           │
137  008A6 │                            load s8, A6
138  2C800 │                            output s8, spi_port
           │
139  00832 │                            load s8, 32
13A  2C800 │                            output s8, spi_port
           │
13B  00800 │                            load s8, 00
13C  2C800 │                            output s8, spi_port
           │
13D  2C504 │                            output s5, 04
13E  30078 ╰──────⤙                     call spi_wait
13F  2C504 │                            output s5, 04
140  2C503 │                            output s5, 03
           │
141  3000F ╰──────⤙                     call delay_25us
142  3000F ╰──────⤙                     call delay_25us
           │
143  008C0 │                            load s8, C0
144  2C800 │                            output s8, spi_port
           │
145  008B3 │                            load s8, B3
146  2C800 │                            output s8, spi_port
           │
147  00832 │                            load s8, 32
148  2C800 │                            output s8, spi_port
           │
149  00800 │                            load s8, 00
14A  2C800 │                            output s8, spi_port
           │
14B  2C504 │                            output s5, 04
14C  30078 ╰──────⤙                     call spi_wait
14D  2C504 │                            output s5, 04
14E  2C503 │                            output s5, 03
           │
14F  3000F ╰──────⤙                     call delay_25us
150  3000F ╰──────⤙                     call delay_25us
           │
151  00850 │                            load s8, 50
152  2C800 │                            output s8, spi_port
           │
153  008B8 │                            load s8, B8
154  2C800 │                            output s8, spi_port
           │
155  00832 │                            load s8, 32
156  2C800 │                            output s8, spi_port
           │
157  00800 │                            load s8, 00
158  2C800 │                            output s8, spi_port
           │
159  2C504 │                            output s5, 04
15A  30078 ╰──────⤙                     call spi_wait
15B  2C504 │                            output s5, 04
15C  2C503 │                            output s5, 03
           │
15D  3000F ╰──────⤙                     call delay_25us
15E  3000F ╰──────⤙                     call delay_25us
           │
15F  008C0 │                            load s8, C0
160  2C800 │                            output s8, spi_port
           │
161  008B3 │                            load s8, B3
162  2C800 │                            output s8, spi_port
           │
163  00832 │                            load s8, 32
164  2C800 │                            output s8, spi_port
           │
165  00800 │                            load s8, 00
166  2C800 │                            output s8, spi_port
           │
167  2C504 │                            output s5, 04
168  30078 ╰──────⤙                     call spi_wait
169  2C504 │                            output s5, 04
16A  2C503 │                            output s5, 03
           │
16B  3000F ╰──────⤙                     call delay_25us
16C  3000F ╰──────⤙                     call delay_25us
           │
16D  008B0 │                            load s8, B0
16E  2C800 │                            output s8, spi_port
           │
16F  008A6 │                            load s8, A6
170  2C800 │                            output s8, spi_port
           │
171  00832 │                            load s8, 32
172  2C800 │                            output s8, spi_port
           │
173  00800 │                            load s8, 00
174  2C800 │                            output s8, spi_port
           │
175  2C504 │                            output s5, 04
176  30078 ╰──────⤙                     call spi_wait
177  2C504 │                            output s5, 04
178  2C503 │                            output s5, 03
           │
179  3000F ╰──────⤙                     call delay_25us
17A  3000F ╰──────⤙                     call delay_25us
           │
17B  00850 │                            load s8, 50
17C  2C800 │                            output s8, spi_port
           │
17D  00892 │                            load s8, 92
17E  2C800 │                            output s8, spi_port
           │
17F  00832 │                            load s8, 32
180  2C800 │                            output s8, spi_port
           │
181  00800 │                            load s8, 00
182  2C800 │                            output s8, spi_port
           │
183  2C504 │                            output s5, 04
184  30078 ╰──────⤙                     call spi_wait
185  2C504 │                            output s5, 04
186  2C503 │                            output s5, 03
           │
187  3000F ╰──────⤙                     call delay_25us
188  3000F ╰──────⤙                     call delay_25us
           │
189  008A0 │                            load s8, A0
18A  2C800 │                            output s8, spi_port
           │
18B  00878 │                            load s8, 78
18C  2C800 │                            output s8, spi_port
           │
18D  00832 │                            load s8, 32
18E  2C800 │                            output s8, spi_port
           │
18F  00800 │                            load s8, 00
190  2C800 │                            output s8, spi_port
           │
191  2C504 │                            output s5, 04
192  30078 ╰──────⤙                     call spi_wait
193  2C504 │                            output s5, 04
194  2C503 │                            output s5, 03
           │
195  3000F ╰──────⤙                     call delay_25us
196  3000F ╰──────⤙                     call delay_25us
           │
197  00820 │                            load s8, 20
198  2C800 │                            output s8, spi_port
           │
199  0085C │                            load s8, 5C
19A  2C800 │                            output s8, spi_port
           │
19B  00832 │                            load s8, 32
19C  2C800 │                            output s8, spi_port
           │
19D  00800 │                            load s8, 00
19E  2C800 │                            output s8, spi_port
           │
19F  2C504 │                            output s5, 04
1A0  30078 ╰──────⤙                     call spi_wait
1A1  2C504 │                            output s5, 04
1A2  2C503 │                            output s5, 03
           │
1A3  3000F ╰──────⤙                     call delay_25us
1A4  3000F ╰──────⤙                     call delay_25us
           │
1A5  008A0 │                            load s8, A0
1A6  2C800 │                            output s8, spi_port
           │
1A7  0083F │                            load s8, 3F
1A8  2C800 │                            output s8, spi_port
           │
1A9  00832 │                            load s8, 32
1AA  2C800 │                            output s8, spi_port
           │
1AB  00800 │                            load s8, 00
1AC  2C800 │                            output s8, spi_port
           │
1AD  2C504 │                            output s5, 04
1AE  30078 ╰──────⤙                     call spi_wait
1AF  2C504 │                            output s5, 04
1B0  2C503 │                            output s5, 03
           │
1B1  3000F ╰──────⤙                     call delay_25us
1B2  3000F ╰──────⤙                     call delay_25us
           │
1B3  008F0 │                            load s8, F0
1B4  2C800 │                            output s8, spi_port
           │
1B5  00825 │                            load s8, 25
1B6  2C800 │                            output s8, spi_port
           │
1B7  00832 │                            load s8, 32
1B8  2C800 │                            output s8, spi_port
           │
1B9  00800 │                            load s8, 00
1BA  2C800 │                            output s8, spi_port
           │
1BB  2C504 │                            output s5, 04
1BC  30078 ╰──────⤙                     call spi_wait
1BD  2C504 │                            output s5, 04
1BE  2C503 │                            output s5, 03
           │
1BF  3000F ╰──────⤙                     call delay_25us
1C0  3000F ╰──────⤙                     call delay_25us
           │
1C1  00890 │                            load s8, 90
1C2  2C800 │                            output s8, spi_port
           │
1C3  00811 │                            load s8, 11
1C4  2C800 │                            output s8, spi_port
           │
1C5  00832 │                            load s8, 32
1C6  2C800 │                            output s8, spi_port
           │
1C7  00800 │                            load s8, 00
1C8  2C800 │                            output s8, spi_port
           │
1C9  2C504 │                            output s5, 04
1CA  30078 ╰──────⤙                     call spi_wait
1CB  2C504 │                            output s5, 04
1CC  2C503 │                            output s5, 03
           │
1CD  3000F ╰──────⤙                     call delay_25us
1CE  3000F ╰──────⤙                     call delay_25us
           │
1CF  00800 │                            load s8, 0
1D0  2C800 │                            output s8, spi_port
           │
1D1  00848 │                            load s8, 48
1D2  2C800 │                            output s8, spi_port
           │
1D3  00832 │                            load s8, 32
1D4  2C800 │                            output s8, spi_port
           │
1D5  00800 │                            load s8, 00
1D6  2C800 │                            output s8, spi_port
           │
1D7  2C504 │                            output s5, 04
1D8  30078 ╰──────⤙                     call spi_wait
1D9  2C504 │                            output s5, 04
1DA  2C503 │                            output s5, 03
           │
1DB  3000F ╰──────⤙                     call delay_25us
1DC  3000F ╰──────⤙                     call delay_25us
           │
1DD  00800 │                            load s8, 0
1DE  2C800 │                            output s8, spi_port
           │
1DF  00800 │                            load s8, 00
1E0  2C800 │                            output s8, spi_port
           │
1E1  00832 │                            load s8, 32
1E2  2C800 │                            output s8, spi_port
           │
1E3  00800 │                            load s8, 00
1E4  2C800 │                            output s8, spi_port
           │
1E5  2C504 │                            output s5, 04
1E6  30078 ╰──────⤙                     call spi_wait
1E7  2C504 │                            output s5, 04
1E8  2C503 │                            output s5, 03
           │
1E9  3000F ╰──────⤙                     call delay_25us
1EA  3000F ╰──────⤙                     call delay_25us
           │
1EB  00800 │                            load s8, 0
1EC  2C800 │                            output s8, spi_port
           │
1ED  00848 │                            load s8, 48
1EE  2C800 │                            output s8, spi_port
           │
1EF  00832 │                            load s8, 32
1F0  2C800 │                            output s8, spi_port
           │
1F1  00800 │                            load s8, 00
1F2  2C800 │                            output s8, spi_port
           │
1F3  2C504 │                            output s5, 04
1F4  30078 ╰──────⤙                     call spi_wait
1F5  2C504 │                            output s5, 04
1F6  2C503 │                            output s5, 03
           │
1F7  3000F ╰──────⤙                     call delay_25us
1F8  3000F ╰──────⤙                     call delay_25us
           │
1F9  00890 │                            load s8, 90
1FA  2C800 │                            output s8, spi_port
           │
1FB  00811 │                            load s8, 11
1FC  2C800 │                            output s8, spi_port
           │
1FD  00832 │                            load s8, 32
1FE  2C800 │                            output s8, spi_port
           │
1FF  00800 │                            load s8, 00
200  2C800 │                            output s8, spi_port
           │
201  2C504 │                            output s5, 04
202  30078 ╰──────⤙                     call spi_wait
203  2C504 │                            output s5, 04
204  2C503 │                            output s5, 03
           │
205  3000F ╰──────⤙                     call delay_25us
206  3000F ╰──────⤙                     call delay_25us
           │
207  008F0 │                            load s8, F0
208  2C800 │                            output s8, spi_port
           │
209  00825 │                            load s8, 25
20A  2C800 │                            output s8, spi_port
           │
20B  00832 │                            load s8, 32
20C  2C800 │                            output s8, spi_port
           │
20D  00800 │                            load s8, 00
20E  2C800 │                            output s8, spi_port
           │
20F  2C504 │                            output s5, 04
210  30078 ╰──────⤙                     call spi_wait
211  2C504 │                            output s5, 04
212  2C503 │                            output s5, 03
           │
213  3000F ╰──────⤙                     call delay_25us
214  3000F ╰──────⤙                     call delay_25us
           │
215  008A0 │                            load s8, A0
216  2C800 │                            output s8, spi_port
           │
217  0083F │                            load s8, 3F
218  2C800 │                            output s8, spi_port
           │
219  00832 │                            load s8, 32
21A  2C800 │                            output s8, spi_port
           │
21B  00800 │                            load s8, 00
21C  2C800 │                            output s8, spi_port
           │
21D  2C504 │                            output s5, 04
21E  30078 ╰──────⤙                     call spi_wait
21F  2C504 │                            output s5, 04
220  2C503 │                            output s5, 03
           │
221  3000F ╰──────⤙                     call delay_25us
222  3000F ╰──────⤙                     call delay_25us
223  3410A ╰──────⤙                     jump wave


All unused memory locations contain zero (equivalent to "LOAD s0, 00")


PSM files that have been assembled
----------------------------------
    /home/leon/Documents/Code/sistemas-empotrados-S6/codigo-ensamblador/Practica1-1/program.asm
    /home/leon/Documents/Code/sistemas-empotrados-S6/codigo-ensamblador/utils/lcd.asm
    /home/leon/Documents/Code/sistemas-empotrados-S6/codigo-ensamblador/utils/delay.asm


List of defined constants
-------------------------
    CONSTANT name      Value  Source PSM file   
 ----------------      -----  ---------------   
    BEL                07
    BS                 08
    CR                 0D
    DCS                90
    DEL                7F
    ESC                1B
    HT                 09
    LCD_PORT           01     ../utils/lcd.asm
    LF                 0A
    NUL                00
    ST                 9C
    VT                 0B
    c_delay_1us        0B     ../utils/delay.asm
    datestamp_day      14
    datestamp_month    03
    datestamp_year     18
 *  spi_eport          04     program.asm
    spi_port           00     program.asm
 *  spi_rport          03     program.asm
    timestamp_hours    11
    timestamp_minutes  0D
    timestamp_seconds  32

       * Unreferenced constant(s)


  No tables defined


List of text strings
--------------------
    STRING name      Value          Source PSM file
 --------------      -----          ---------------
    Opbasm_version$  "1.3.10"
    datestamp$       "20 Mar 2024"
    timestamp$       "17:13:50"


List of line labels
-------------------
    Label           Addr  Source PSM file   
 --------           ----  ---------------   
    LCD_CHARA       074   ../utils/lcd.asm
 *  LCD_CLEAR       05B   ../utils/lcd.asm
    LCD_CMD         034   ../utils/lcd.asm
    LCD_E_PULSE     02D   ../utils/lcd.asm
    LCD_INIT        038   ../utils/lcd.asm
 *  LCD_WRITE_CHAR  063   ../utils/lcd.asm
    MAIN            087   program.asm
    delay_1ms       019   ../utils/delay.asm
    delay_1s        028   ../utils/delay.asm
    delay_1us       001   ../utils/delay.asm
    delay_20ms      023   ../utils/delay.asm
    delay_25us      00F   ../utils/delay.asm
    delay_40us      014   ../utils/delay.asm
    delay_5ms       01E   ../utils/delay.asm
 *  delay_7us       005   ../utils/delay.asm
 *  delay_8us       00A   ../utils/delay.asm
    spi_wait        078   program.asm
    wait_1ms        01A   ../utils/delay.asm
    wait_1s         029   ../utils/delay.asm
    wait_1us        002   ../utils/delay.asm
    wait_20ms       024   ../utils/delay.asm
 *  wait_25us       010   ../utils/delay.asm
    wait_40us       015   ../utils/delay.asm
    wait_5ms        01F   ../utils/delay.asm
    wait_7us        006   ../utils/delay.asm
    wait_8us        00B   ../utils/delay.asm
    wave            10A   program.asm

       * Unreferenced label(s)


List of pragma blocks
---------------------
   Name  Addr range  Value
   ----  ----------  -----


Instruction usage statistics
----------------------------
   Instruction  Instances
   -----------  ---------
   ADD          -
   ADDCY        -
   AND          3
   CALL         191
   COMPARE      -
   DISABLE      -
   ENABLE       -
   FETCH        -
   INPUT        -
   JUMP         11
   LOAD         163
   OR           1
   OUTPUT       147
   RETURN       15
   RETURNI      -
   RL           -
   RR           -
   SL0          -
   SL1          -
   SLA          -
   SLX          -
   SR0          4
   SR1          -
   SRA          -
   SRX          -
   STORE        -
   SUB          9
   SUBCY        -
   TEST         -
   XOR          4
